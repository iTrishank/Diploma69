[{"/Users/samokat/Desktop/Diploma/tailmate/client/src/index.js":"1","/Users/samokat/Desktop/Diploma/tailmate/client/src/App.js":"2","/Users/samokat/Desktop/Diploma/tailmate/client/src/pages/Home.js":"3","/Users/samokat/Desktop/Diploma/tailmate/client/src/pages/OnBoarding.js":"4","/Users/samokat/Desktop/Diploma/tailmate/client/src/pages/Dashboard.js":"5","/Users/samokat/Desktop/Diploma/tailmate/client/src/components/ChatContainer.js":"6","/Users/samokat/Desktop/Diploma/tailmate/client/src/components/AuthModal.js":"7","/Users/samokat/Desktop/Diploma/tailmate/client/src/components/Nav.js":"8","/Users/samokat/Desktop/Diploma/tailmate/client/src/components/MatchesDisplay.js":"9","/Users/samokat/Desktop/Diploma/tailmate/client/src/components/ChatDisplay.js":"10","/Users/samokat/Desktop/Diploma/tailmate/client/src/components/ChatHeader.js":"11","/Users/samokat/Desktop/Diploma/tailmate/client/src/components/Chat.js":"12","/Users/samokat/Desktop/Diploma/tailmate/client/src/components/ChatInput.js":"13"},{"size":254,"mtime":1684705288197,"results":"14","hashOfConfig":"15"},{"size":862,"mtime":1684795714390,"results":"16","hashOfConfig":"15"},{"size":1631,"mtime":1684842958869,"results":"17","hashOfConfig":"15"},{"size":6552,"mtime":1687210924961,"results":"18","hashOfConfig":"15"},{"size":3215,"mtime":1684964851810,"results":"19","hashOfConfig":"15"},{"size":837,"mtime":1684971425138,"results":"20","hashOfConfig":"15"},{"size":2708,"mtime":1687210868582,"results":"21","hashOfConfig":"15"},{"size":1114,"mtime":1685464198045,"results":"22","hashOfConfig":"15"},{"size":1588,"mtime":1684972292075,"results":"23","hashOfConfig":"15"},{"size":2286,"mtime":1685464198045,"results":"24","hashOfConfig":"15"},{"size":1305,"mtime":1685538506244,"results":"25","hashOfConfig":"15"},{"size":842,"mtime":1685464198045,"results":"26","hashOfConfig":"15"},{"size":994,"mtime":1684838792294,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","suppressedMessages":"30","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"1q66uwl",{"filePath":"32","messages":"33","suppressedMessages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"35","messages":"36","suppressedMessages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"38","messages":"39","suppressedMessages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","suppressedMessages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"31"},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"31"},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"31"},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},"/Users/samokat/Desktop/Diploma/tailmate/client/src/index.js",[],[],[],"/Users/samokat/Desktop/Diploma/tailmate/client/src/App.js",[],[],"/Users/samokat/Desktop/Diploma/tailmate/client/src/pages/Home.js",[],[],"/Users/samokat/Desktop/Diploma/tailmate/client/src/pages/OnBoarding.js",["71"],[],"/Users/samokat/Desktop/Diploma/tailmate/client/src/pages/Dashboard.js",["72","73"],[],"import React, { useEffect, useState } from \"react\";\nimport TinderCard from \"react-tinder-card\";\nimport ChatContainer from \"../components/ChatContainer\";\nimport axios from \"axios\";\n\nconst Dashboard = () => {\n  const getCookie = (name) => {\n    const cookies = document.cookie.split(\"; \").reduce((acc, cookie) => {\n      const [cookieName, cookieValue] = cookie.split(\"=\");\n      acc[cookieName] = cookieValue;\n      return acc;\n    }, {});\n\n    return cookies[name] || \"\";\n  };\n\n  const userId = getCookie(\"UserId\");\n  const [lastDirection, setLastDirection] = useState();\n  const [user, setUser] = useState(null);\n  const [genderedUsers, setGenderedUsers] = useState(null);\n\n  const getUser = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:8000/user\", {\n        params: { userId },\n      });\n      setUser(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const getGenderedUsers = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:8000/gendered-users\", {\n        params: { gender: user?.gender_interest },\n      });\n      setGenderedUsers(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  useEffect(() => {\n    if (user) {\n      getGenderedUsers();\n    }\n  }, [user]);\n\n  const updateMatches = async (matchedUserId) => {\n    try {\n      await axios.put(\"http://localhost:8000/addmatch\", {\n        userId,\n        matchedUserId,\n      });\n      getUser();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  console.log(user);\n\n  const swiped = (direction, swipedUserId) => {\n    //! Swiping algorithms\n    if (direction === \"right\") {\n      updateMatches(swipedUserId);\n    }\n    setLastDirection(direction);\n  };\n\n  const outOfFrame = (name) => {\n    console.log(name + \" left the screen!\");\n  };\n\n  const matchedUserIds = user?.matches\n    .map(({ user_id }) => user_id)\n    .concat(userId);\n\n  const filteredGenderedUsers = genderedUsers?.filter(\n    (genderedUser) => !matchedUserIds.includes(genderedUser.user_id)\n  );\n  return (\n    <>\n      {user && (\n        <div className=\"dashboard\">\n          <ChatContainer user={user} />\n          <div className=\"swipe-container\">\n            <div className=\"card-container\">\n              {filteredGenderedUsers?.map((genderedUser) => (\n                <TinderCard\n                  className=\"swipe\"\n                  key={genderedUser.user_id}\n                  onSwipe={(dir) => swiped(dir, genderedUser.user_id)}\n                  onCardLeftScreen={() => outOfFrame(genderedUser.first_name)}\n                >\n                  <div\n                    style={{\n                      backgroundImage: \"url(\" + genderedUser.url + \")\",\n                    }}\n                    className=\"card\"\n                  >\n                    <h3>{genderedUser.first_name}</h3>\n                  </div>\n                </TinderCard>\n              ))}\n              <div className=\"swipe-info\">\n                {lastDirection ? <p>You swiped {lastDirection}</p> : <p />}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Dashboard;\n","/Users/samokat/Desktop/Diploma/tailmate/client/src/components/ChatContainer.js",[],[],"/Users/samokat/Desktop/Diploma/tailmate/client/src/components/AuthModal.js",["74"],[],"/Users/samokat/Desktop/Diploma/tailmate/client/src/components/Nav.js",[],[],"/Users/samokat/Desktop/Diploma/tailmate/client/src/components/MatchesDisplay.js",["75","76"],[],"import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\n\nconst MatchesDisplay = ({ matches, setClickedUser }) => {\n  const getCookie = (name) => {\n    const cookies = document.cookie.split(\"; \").reduce((acc, cookie) => {\n      const [cookieName, cookieValue] = cookie.split(\"=\");\n      acc[cookieName] = cookieValue;\n      return acc;\n    }, {});\n\n    return cookies[name] || \"\";\n  };\n\n  const userId = getCookie(\"UserId\");\n\n  const [matchedProfiles, setMatchedProfiles] = useState(null);\n  const matchedUserIds = matches.map(({ user_id }) => user_id);\n\n  const getMatches = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:8000/users\", {\n        params: { userIds: JSON.stringify(matchedUserIds) },\n      });\n      setMatchedProfiles(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getMatches();\n  }, [matches]);\n\n  const filteredMatchedProfiles = matchedProfiles?.filter(\n    (matchedProfile) =>\n      matchedProfile.matches.filter((profile) => profile.user_id == userId)\n        .length > 0\n  );\n\n  return (\n    <div className=\"matches-display\">\n      {filteredMatchedProfiles?.map((match, _index) => (\n        <div\n          key={_index}\n          className=\"match-card\"\n          onClick={() => setClickedUser(match)}\n        >\n          <div className=\"img-container\">\n            <img src={match?.url} alt={match?.first_name + \" profile\"} />\n          </div>\n          <h3>{match?.first_name}</h3>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default MatchesDisplay;\n","/Users/samokat/Desktop/Diploma/tailmate/client/src/components/ChatDisplay.js",["77"],[],"import React, { useEffect, useState } from \"react\";\nimport Chat from \"./Chat\";\nimport ChatInput from \"./ChatInput\";\nimport axios from \"axios\";\n\nconst ChatDisplay = ({ user, clickedUser }) => {\n  const userId = user?.user_id;\n  const clickedUserId = clickedUser?.user_id;\n  const [usersMessages, setUsersMessages] = useState(null);\n  const [clickedUsersMessages, setClickedUsersMessages] = useState(null);\n\n  const getUsersMessages = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:8000/messages\", {\n        params: { userId: userId, correspondingUserId: clickedUserId },\n      });\n      setUsersMessages(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const getClickedUsersMessages = async () => {\n    try {\n      const response = await axios.get(\"http://localhost:8000/messages\", {\n        params: { userId: clickedUserId, correspondingUserId: userId },\n      });\n      setClickedUsersMessages(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    getUsersMessages();\n    getClickedUsersMessages();\n  }, []); //! it makes eveything run so many times\n\n  const messages = [];\n\n  usersMessages?.forEach((message) => {\n    const formattedMessage = {};\n    formattedMessage[\"name\"] = user?.first_name;\n    formattedMessage[\"img\"] = user?.url;\n    formattedMessage[\"message\"] = message.message;\n    formattedMessage[\"timestamp\"] = message.timestamp;\n    messages.push(formattedMessage);\n  });\n\n  clickedUsersMessages?.forEach((message) => {\n    const formattedMessage = {};\n    formattedMessage[\"name\"] = clickedUser?.first_name;\n    formattedMessage[\"img\"] = clickedUser?.url;\n    formattedMessage[\"message\"] = message.message;\n    formattedMessage[\"timestamp\"] = message.timestamp;\n    messages.push(formattedMessage);\n  });\n\n  console.log(clickedUsersMessages);\n  const descendingOrderMessages = messages?.sort((a, b) =>\n    a.timestamp.localeCompare(b.timestamp)\n  );\n\n  return (\n    <>\n      <Chat descendingOrderMessages={descendingOrderMessages} />\n      <ChatInput\n        user={user}\n        clickedUser={clickedUser}\n        getUsersMessages={getUsersMessages}\n        getClickedUsersMessages={getClickedUsersMessages}\n      />\n    </>\n  );\n};\n\nexport default ChatDisplay;\n","/Users/samokat/Desktop/Diploma/tailmate/client/src/components/ChatHeader.js",[],[],"/Users/samokat/Desktop/Diploma/tailmate/client/src/components/Chat.js",[],[],"/Users/samokat/Desktop/Diploma/tailmate/client/src/components/ChatInput.js",[],[],{"ruleId":"78","severity":1,"message":"79","line":35,"column":9,"nodeType":"80","messageId":"81","endLine":35,"endColumn":18},{"ruleId":"82","severity":1,"message":"83","line":46,"column":6,"nodeType":"84","endLine":46,"endColumn":8,"suggestions":"85"},{"ruleId":"82","severity":1,"message":"86","line":52,"column":6,"nodeType":"84","endLine":52,"endColumn":12,"suggestions":"87"},{"ruleId":"88","severity":1,"message":"89","line":55,"column":9,"nodeType":"90","endLine":55,"endColumn":68},{"ruleId":"82","severity":1,"message":"91","line":33,"column":6,"nodeType":"84","endLine":33,"endColumn":15,"suggestions":"92"},{"ruleId":"93","severity":1,"message":"94","line":37,"column":66,"nodeType":"95","messageId":"96","endLine":37,"endColumn":68},{"ruleId":"82","severity":1,"message":"97","line":36,"column":6,"nodeType":"84","endLine":36,"endColumn":8,"suggestions":"98"},"no-unused-vars","'setCookie' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getUser'. Either include it or remove the dependency array.","ArrayExpression",["99"],"React Hook useEffect has a missing dependency: 'getGenderedUsers'. Either include it or remove the dependency array.",["100"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","React Hook useEffect has a missing dependency: 'getMatches'. Either include it or remove the dependency array.",["101"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","React Hook useEffect has missing dependencies: 'getClickedUsersMessages' and 'getUsersMessages'. Either include them or remove the dependency array.",["102"],{"desc":"103","fix":"104"},{"desc":"105","fix":"106"},{"desc":"107","fix":"108"},{"desc":"109","fix":"110"},"Update the dependencies array to be: [getUser]",{"range":"111","text":"112"},"Update the dependencies array to be: [getGenderedUsers, user]",{"range":"113","text":"114"},"Update the dependencies array to be: [getMatches, matches]",{"range":"115","text":"116"},"Update the dependencies array to be: [getClickedUsersMessages, getUsersMessages]",{"range":"117","text":"118"},[1248,1250],"[getUser]",[1327,1333],"[getGenderedUsers, user]",[909,918],"[getMatches, matches]",[1113,1115],"[getClickedUsersMessages, getUsersMessages]"]